# common.sh Script Enhancement Update

## Summary
Today, I worked on adding functionality to the `common.sh` script which downloads a JSON file containing descriptions for all the different open source tools supported by z/OS.

## Implementation Details

* Added a new global variable to the script called `ZOPEN_DESCRIPTIONS_CACHE_URL` which specifies the download URL for the JSON file
* Created a variable within the download function called `JSON_DESCRIPTIONS_CACHE` which stores the file path for where the JSON file will be downloaded
* Implemented a `curl` command to download the file to the specified location
* Added a line to tag the file as ASCII encoding, since z/OS sometimes doesn't properly recognize the encoding, which can lead to unreadable files

## curl Command Explanation

```bash
if ! curlout=$(curlCmd -L --no-progress-meter -o "${JSON_DESCRIPTIONS_CACHE}" "${ZOPEN_DESCRIPTIONS_CACHE_URL}"); then
  printError "Failed to obtain descriptions cache from ${ZOPEN_DESCRIPTIONS_CACHE_URL}; ${curlout}"
fi
chtag -tc 819 "${JSON_DESCRIPTIONS_CACHE}"
```

The curl command performs the following operations:

* `curlCmd` - A wrapper function for the curl command that's likely defined elsewhere in the script
* `-L` - Follows HTTP redirects if the URL has moved
* `--no-progress-meter` - Suppresses the progress display during download
* `-o "${JSON_DESCRIPTIONS_CACHE}"` - Specifies the output file location using the previously defined variable
* `"${ZOPEN_DESCRIPTIONS_CACHE_URL}"` - The source URL from which to download the JSON file
* The command's output is captured in the `curlout` variable for error reporting
* If the curl command fails (returns non-zero exit code), an error message is displayed using the `printError` function
* `chtag -tc 819 "${JSON_DESCRIPTIONS_CACHE}"` - Tags the downloaded file with ASCII (EBCDIC code page 819) encoding to ensure proper readability on z/OS systems

## Reference
* Commit link: https://github.com/CommunistPotato1231/meta/commit/c27f237402deaf8e0916359bbe6a18b7c1225f88
